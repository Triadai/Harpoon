[for i=literal(0) to literal(108),for j=literal(0) to literal(127)], (literal(0)-literal(1))<d.hdr.sects[i] and (literal(0)-literal(1))<cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j] and i*literal(128)+j < size/literal(512)-literal(1) and cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j] < size/literal(512)-literal(1) => <i*literal(128)+j,cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j]> in nextblock
[for i=literal(0) to literal(108),for j=literal(0) to literal(127)], (literal(0)-literal(1))<d.hdr.sects[i] and ((literal(0)-literal(1))<cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j]) and i*literal(128)+j < size/literal(512)-literal(1) and cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j] < size/literal(512)-literal(1) => cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j] in chainblocks
[for i=literal(0) to literal(108),for j=literal(0) to literal(127)], (literal(0)-literal(1))<d.hdr.sects[i] and ((literal(0)-literal(1))<cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j] or (literal(0)-literal(2))=cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j]) and i*literal(128)+j < size/literal(512)-literal(1) => i*literal(128)+j in usedblocks
[for i=literal(0) to literal(108),for j=literal(0) to literal(127)], ((literal(0)-literal(1))<d.hdr.sects[i] and (literal(0)-literal(1))=cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j] and i*literal(128)+j < size/literal(512)-literal(1)) or (i*literal(128)+j < size/literal(512)-literal(1) and (d.hdr.sects[i]<literal(0) or (size/literal(512)-literal(2))<d.hdr.sects[i])) => i*literal(128)+j in freeblocks
[for i=literal(0) to literal(108),for j=literal(0) to literal(127)], (literal(0)-literal(1))<d.hdr.sects[i] and (literal(0)-literal(3))=cast(fatblk,d.blocks[d.hdr.sects[i]]).sects[j] and i*literal(128)+j < size/literal(512)-literal(1) => i*literal(128)+j in fatblocks
[for i=literal(0) to literal(108)], (literal(0)-literal(1))<d.hdr.sects[i] => <i,d.hdr.sects[i]> in fatblockslist
[for b=literal(0) to (size/literal(512)-literal(2))/literal(128)], true => b in fatblockindex
