<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri Nov 03 09:35:01 MST 2000 -->
<TITLE>
: Class  ScopedMemory
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javax/realtime/SchedulingParameters.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javax/realtime/ScopedPhysicalMemory.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ScopedMemory.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.realtime</FONT>
<BR>
Class  ScopedMemory</H2>
<PRE>
java.lang.Object
  |
  +--<A HREF="../../javax/realtime/MemoryArea.html">javax.realtime.MemoryArea</A>
        |
        +--<B>javax.realtime.ScopedMemory</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../javax/realtime/LTMemory.html">LTMemory</A>, <A HREF="../../javax/realtime/ScopedPhysicalMemory.html">ScopedPhysicalMemory</A>, <A HREF="../../javax/realtime/VTMemory.html">VTMemory</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>ScopedMemory</B><DT>extends <A HREF="../../javax/realtime/MemoryArea.html">MemoryArea</A></DL>

<P>
ScopedMemory is the abstract base class of all classes dealing with
 representations of memory spaces with a limited lifetime. The ScopedMemory area is
 valid as long as there are real-time threads with access to it. A reference is created for
 each accessor when either a real-time thread is created with the ScopedMemory object
 as its memory area, or a real-time thread runs the public void
 enter(java.lang.Runnable logic) method for the memory area. When the last
 reference to the object is removed, by exiting the thread or exiting the enter()
 method, finalizers are run for all objects in the memory area, and the area is emptied.
 A ScopedMemory area is a connection to a particular region of memory and
 reflects the current status of it. The object does not necessarily contain direct
 references to the region of memory that is implementation dependent.
 When a ScopedMemory area is instantiated, the object itself is allocated from the
 current memory allocation scheme in use, but the memory space that object represents
 is not. Typically, the memory for a ScopedMemory area might be allocated using native
 method implementations that make appropriate use of malloc()and free()or
 similar routines to manipulate memory. The enter()method of ScopedMemory is the
 mechanism used to activate a new memory scope. Entry into the scope is done by
 calling the method:
 public void enter(Runnable logic)
 Where r is a Runnable object whose run() method represents the entry point to
 the code that will run in the new scope. Exit from the scope occurs when the logic.run()
 completes. Allocations of objects within logic.run() are done with the ScopedMemory
 area. When logic.run() is complete, the scoped memory area is no longer active. Its
 reference count will be decremented and if it is zero all of the objects in the memory
 area finalized and collected.
 Objects allocated from a ScopedMemory area have a unique lifetime. They cease
 to exist on exiting a public void enter(java.lang.Runnable logic) method or
 upon exiting the last real-time thread referencing the area, regardless of any
 references that may exist to the object. Thus, to maintain the safety of Java and avoid
 dangling references, a very restrictive set of rules apply to ScopedMemory area objects:
 1. A reference to an object in ScopedMemory can never be stored in an Object
 allocated in the Java heap.
 2. A reference to an object in ScopedMemory can never be stored in an Object
 allocated in ImmortalMemory .
 3. A reference to an object in ScopedMemory can only be stored in Objects allocated
 in the same ScopedMemory area, or into a -- more inner -- ScopedMemory area
 nested by the use of its enter() method.
 4. References to immortal or heap objects may be stored into an object allocated in a
 ScopedMemory area.
<P>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../javax/realtime/ScopedMemory.html#ScopedMemory(long)">ScopedMemory</A></B>(long&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new ScopedMemory area with a particular size.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/realtime/ScopedMemory.html#enter(java.lang.Runnable)">enter</A></B>(java.lang.Runnable&nbsp;logic)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Associate this ScopedMemory area to the current real-time thread for the
 duration of the execution of the run()method of the given
 java.lang.Runnable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/realtime/ScopedMemory.html#getMaxmumSize()">getMaxmumSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the maximum size this memory area can attain.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../javax/realtime/MemoryArea.html">MemoryArea</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/realtime/ScopedMemory.html#getOuterScope()">getOuterScope</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find the ScopedMemory area in effect, for the current RealtimeThread, prior to
 the current invocation of a ScopedMemory.run() method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/realtime/ScopedMemory.html#getPortal()">getPortal</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a reference to the portal object in this instance of ScopedMemory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/realtime/ScopedMemory.html#setPortal(java.lang.Object)">setPortal</A></B>(java.lang.Object&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the argument to the portal object in the memory area represented by this
 instance of ScopedMemory.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.realtime.MemoryArea"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class javax.realtime.<A HREF="../../javax/realtime/MemoryArea.html">MemoryArea</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../javax/realtime/MemoryArea.html#getMemoryArea(java.lang.Object)">getMemoryArea</A>, 
<A HREF="../../javax/realtime/MemoryArea.html#memoryConsumed()">memoryConsumed</A>, 
<A HREF="../../javax/realtime/MemoryArea.html#memoryRemaining()">memoryRemaining</A>, 
<A HREF="../../javax/realtime/MemoryArea.html#newArray(java.lang.Class, int)">newArray</A>, 
<A HREF="../../javax/realtime/MemoryArea.html#newInstance(java.lang.Class)">newInstance</A>, 
<A HREF="../../javax/realtime/MemoryArea.html#size()">size</A>, 
<A HREF="../../javax/realtime/MemoryArea.html#toString()">toString</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, 
equals, 
finalize, 
getClass, 
hashCode, 
notify, 
notifyAll, 
wait, 
wait, 
wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ScopedMemory(long)"><!-- --></A><H3>
ScopedMemory</H3>
<PRE>
public <B>ScopedMemory</B>(long&nbsp;size)</PRE>
<DL>
<DD>Create a new ScopedMemory area with a particular size.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>size</CODE> - The size of the new ScopedMemory area in bytes. If size is less
 			than or equal to zero nothing happens.</DL>
</DD>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="enter(java.lang.Runnable)"><!-- --></A><H3>
enter</H3>
<PRE>
public void <B>enter</B>(java.lang.Runnable&nbsp;logic)
           throws java.lang.RuntimeException</PRE>
<DL>
<DD>Associate this ScopedMemory area to the current real-time thread for the
 duration of the execution of the run()method of the given
 java.lang.Runnable.  During this bound period of execution, all objects
 are allocated from the ScopedMemory area until another one takes effect, or
 the enter() method is exited. A runtime exception is thrown if this method
 is called from a thread other than a RealtimeThread or
 NoHeapRealtimeThread.<DD><DL>
<DT><B>Overrides:</B><DD><A HREF="../../javax/realtime/MemoryArea.html#enter(java.lang.Runnable)">enter</A> in class <A HREF="../../javax/realtime/MemoryArea.html">MemoryArea</A></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>logic</CODE> - The runnable object which contains the code to execute.</DL>
</DD>
</DL>
<HR>

<A NAME="getMaxmumSize()"><!-- --></A><H3>
getMaxmumSize</H3>
<PRE>
public long <B>getMaxmumSize</B>()</PRE>
<DL>
<DD>Get the maximum size this memory area can attain. If this is a fixed size memory
 area, the returned value will be equal to the initial size.<DD><DL>
<DT><B>Returns:</B><DD>The maximum size of this memory area</DL>
</DD>
</DL>
<HR>

<A NAME="getOuterScope()"><!-- --></A><H3>
getOuterScope</H3>
<PRE>
public <A HREF="../../javax/realtime/MemoryArea.html">MemoryArea</A> <B>getOuterScope</B>()</PRE>
<DL>
<DD>Find the ScopedMemory area in effect, for the current RealtimeThread, prior to
 the current invocation of a ScopedMemory.run() method. If none is applicable,
 the memory area associated with the thread when it was created should be returned.<DD><DL>
<DT><B>Returns:</B><DD>The containing scope. If this is the outermost scoped memory
         then the MemoryArea associated with the thread.</DL>
</DD>
</DL>
<HR>

<A NAME="getPortal()"><!-- --></A><H3>
getPortal</H3>
<PRE>
public java.lang.Object <B>getPortal</B>()</PRE>
<DL>
<DD>Returns a reference to the portal object in this instance of ScopedMemory. Returns
 null if there is no portal object.</DL>
<HR>

<A NAME="setPortal(java.lang.Object)"><!-- --></A><H3>
setPortal</H3>
<PRE>
public void <B>setPortal</B>(java.lang.Object&nbsp;obj)</PRE>
<DL>
<DD>Sets the argument to the portal object in the memory area represented by this
 instance of ScopedMemory.</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT ID="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT ID="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javax/realtime/SchedulingParameters.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javax/realtime/ScopedPhysicalMemory.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ScopedMemory.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>

</BODY>
</HTML>
