Initial implementation.
--- Run started: Sun May 20 16:43:04 EDT 2007
BASE 8 0.00
BASE 16 0.01
BASE 32 0.02
BASE 64 0.04
BASE 128 0.08
BASE 256 0.16
BASE 512 0.31
BASE 1024 0.62
BASE 2048 1.25
BASE 4096 2.50
COPYALL 8 0.43
COPYALL 16 1.05
COPYALL 32 2.58
COPYALL 64 10.12
COPYALL 128 26.12
COPYALL 256 103.63
COPYALL 512 534.60
COPYALL 1024 2228.29
SHALLOW 8 0.30
SHALLOW 16 0.60
SHALLOW 32 1.21
SHALLOW 64 2.43
SHALLOW 128 4.96
SHALLOW 256 9.95
SHALLOW 512 19.43
SHALLOW 1024 39.15
SHALLOW 2048 76.66
SHALLOW 4096 153.68
RANDOM 8 0.45
RANDOM 16 0.91
RANDOM 32 1.68
RANDOM 64 3.34
RANDOM 128 6.73
RANDOM 256 13.46
RANDOM 512 27.20
RANDOM 1024 55.64
RANDOM 2048 108.43
RANDOM 4096 213.74
--- Run complete ---

Switch to using low bit of cache/diff pointer to indicate type.
This is needed to help atomicity of lockfree version.
--- Run started: Sun May 20 19:36:28 EDT 2007
BASE 8 0.00
BASE 16 0.01
BASE 32 0.02
BASE 64 0.04
BASE 128 0.08
BASE 256 0.16
BASE 512 0.31
BASE 1024 0.62
BASE 2048 1.24
BASE 4096 2.49
SHALLOW 8 0.28
SHALLOW 16 0.56
SHALLOW 32 1.14
SHALLOW 64 2.23
SHALLOW 128 4.50
SHALLOW 256 8.74
SHALLOW 512 17.50
SHALLOW 1024 35.17
SHALLOW 2048 71.21
SHALLOW 4096 139.08
RANDOM 8 0.40
RANDOM 16 0.78
RANDOM 32 1.56
RANDOM 64 3.10
RANDOM 128 6.16
RANDOM 256 12.55
RANDOM 512 25.49
RANDOM 1024 51.85
RANDOM 2048 101.00
RANDOM 4096 200.24
--- Run complete ---

Lock-free version with rotation.
--- Run started: Sun May 20 20:47:48 EDT 2007
BASE 8 0.00
BASE 16 0.01
BASE 32 0.02
BASE 64 0.04
BASE 128 0.08
BASE 256 0.16
BASE 512 0.33
BASE 1024 0.63
BASE 2048 1.29
BASE 4096 2.59
SHALLOW 8 0.29
SHALLOW 16 0.59
SHALLOW 32 1.18
SHALLOW 64 2.32
SHALLOW 128 4.60
SHALLOW 256 9.04
SHALLOW 512 18.02
SHALLOW 1024 37.19
SHALLOW 2048 73.04
SHALLOW 4096 142.82
RANDOM 8 0.42
RANDOM 16 0.84
RANDOM 32 1.64
RANDOM 64 3.31
RANDOM 128 6.33
RANDOM 256 13.02
RANDOM 512 26.48
RANDOM 1024 53.88
RANDOM 2048 104.38
RANDOM 4096 208.60
LOCKFREE 8 0.76
LOCKFREE 16 1.50
LOCKFREE 32 2.88
LOCKFREE 64 5.98
LOCKFREE 128 11.96
LOCKFREE 256 23.68
LOCKFREE 512 47.84
LOCKFREE 1024 98.34
LOCKFREE 2048 193.44
LOCKFREE 4096 381.23
--- Run complete ---
