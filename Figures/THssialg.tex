% algorithm for phi/sigma placement.

Place($G$:~CFG) =
\begin{myalgorithmic}
\LET $r$ be the top-level region for $G$
%  let r be the top-level region for G;
\FOREACH{variable $v$ in $G$}
\STATE PlaceOne($r$, $v$)
\ENDFOR
\end{myalgorithmic}
~\\
PlaceOne($r$:~region, $v$:~variable):~boolean =
\begin{myalgorithmic}
\STATE \COMMENT{Post-order traversal}
\STATE flag $\gets$ false
\FOREACH{child region $r'$}
  \IF{PlaceOne($r'$, $v$)}
    \STATE flag $\gets$ true
   \ENDIF 
\ENDFOR
                             \EMPTYLINE
\FOREACH{node $n$ in region $r$ not contained in a child region}
  \IF{$n$ contains a use or definition of $v$}
    \STATE flag $\gets$ true
  \ENDIF
\ENDFOR
                             \EMPTYLINE
\STATE \COMMENT{add phis/sigmas to merges/splits where $v$ may be live}
\IF{flag = true}
  \FOREACH{node $n$ in region $r$ not contained in a child region}
    \IF{MaybeLive($n$) = true}
      \IF{the input arity of $n$ exceeds 1}
        \STATE place a phi function for $v$ at $n$
      \ENDIF
      \IF{the output arity of $n$ exceeds 1}         
        \STATE place a sigma function for $v$ at $n$
      \ENDIF
    \ENDIF
  \ENDFOR
\ENDIF
                             \EMPTYLINE
\RETURN flag
\end{myalgorithmic}
